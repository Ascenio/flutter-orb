description: >
  Install Flutter SDK
parameters:
  version:
    type: string
    description: The target version for the Flutter SDK.
    default: "2.2.3"
  os:
    type: enum
    enum: ["linux", "macos"]
    description: The target Operating System for the Flutter SDK. Must be one of "linux", "macos".
    default: "linux"
steps:
  - run:
      name: Install Flutter SDK
      command: |
        mkdir ~/development && cd $_
        if [ << parameters.os >> == "macos" ]; then
          curl -o flutter_sdk.zip https://storage.googleapis.com/flutter_infra_release/releases/stable/<<parameters.os>>/flutter_<<parameters.os>>_<<parameters.version>>-stable.zip
        fi
        unzip flutter_sdk.zip
        echo "export PATH=$PATH:$(pwd)/flutter/bin" >> $BASH_ENV
  - run: flutter doctor
